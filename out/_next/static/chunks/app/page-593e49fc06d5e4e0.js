(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4451:(e,t,i)=>{Promise.resolve().then(i.bind(i,1183))},1183:(e,t,i)=>{"use strict";let a;i.r(t),i.d(t,{default:()=>E});var n=i(7437),r=i(2265),s=i(5236),o=i(5735),l=i(9842),d=i(6042);let c=(0,s.ZF)({apiKey:"AIzaSyCj1DEsmJVmvk19KEtFcqZaDZO5XIaTHlc",authDomain:"emojis-f3a0c.firebaseapp.com",projectId:"emojis-f3a0c",storageBucket:"emojis-f3a0c.firebasestorage.app",messagingSenderId:"340183324364",appId:"1:340183324364:web:126af52e9988d47d7d5469"}),u=(0,o.v0)(c);(0,d.$C)(c);let h=(0,l.ad)(c);function m(e){let{activeTab:t,setActiveTab:i}=e;return(0,o.Aj)(u,e=>{e&&(console.log("Auth state changed "+e.email),"login"===t&&i("emojis"))}),null}function p(e){let t={"auth/admin-restricted-operation":"Admin only operation","auth/argument-error":"Argument error","auth/app-not-authorized":"App not authorized","auth/app-not-installed":"App not installed","auth/captcha-check-failed":"Captcha check failed","auth/code-expired":"Code expired","auth/cordova-not-ready":"Cordova not ready","auth/cors-unsupported":"CORS unsupported","auth/credential-already-in-use":"Credential already in use","auth/custom-token-mismatch":"Credential mismatch","auth/requires-recent-login":"Credential too old, login again","auth/dependent-sdk-initialized-before-auth":"Dependent SDK initialized before Auth","auth/dynamic-link-not-activated":"Dynamic link not activated","auth/email-change-needs-verification":"Email change needs verification","auth/email-already-in-use":"Email already in use","auth/emulator-config-failed":"Emulator config failed","auth/expired-action-code":"Expired action code","auth/cancelled-popup-request":"Expired popup request","auth/internal-error":"Internal error","auth/invalid-api-key":"Invalid API key","auth/invalid-app-credential":"Invalid app credential","auth/invalid-app-id":"Invalid app ID","auth/invalid-user-token":"Invalid Auth","auth/invalid-auth-event":"Invalid auth event","auth/invalid-cert-hash":"Invalid cert hash","auth/invalid-verification-code":"Invalid code","auth/invalid-continue-uri":"Invalid continue URI","auth/invalid-cordova-configuration":"Invalid Cordova configuration","auth/invalid-custom-token":"Invalid custom token","auth/invalid-dynamic-link-domain":"Invalid dynamic link domain","auth/invalid-email":"Invalid email","auth/invalid-emulator-scheme":"Invalid emulator scheme","auth/invalid-credential":"Invalid password","auth/invalid-message-payload":"Invalid message payload","auth/invalid-multi-factor-session":"Invalid MFA session","auth/invalid-oauth-client-id":"Invalid OAuth client ID","auth/invalid-oauth-provider":"Invalid OAuth provider","auth/invalid-action-code":"Invalid OOB code","auth/unauthorized-domain":"Invalid origin","auth/wrong-password":"Invalid password","auth/invalid-persistence-type":"Invalid persistence","auth/invalid-phone-number":"Invalid phone number","auth/invalid-provider-id":"Invalid provider ID","auth/invalid-recipient-email":"Invalid recipient email","auth/invalid-sender":"Invalid sender","auth/invalid-verification-id":"Invalid session info","auth/invalid-tenant-id":"Invalid tenant ID","auth/multi-factor-info-not-found":"MFA info not found","auth/multi-factor-auth-required":"MFA required","auth/missing-android-pkg-name":"Missing Android package name","auth/missing-app-credential":"Missing app credential","auth/auth-domain-config-required":"Missing Auth domain","auth/missing-verification-code":"Missing code","auth/missing-continue-uri":"Missing continue URI","auth/missing-iframe-start":"Missing iframe start","auth/missing-ios-bundle-id":"Missing iOS bundle ID","auth/missing-or-invalid-nonce":"Missing or invalid nonce","auth/missing-multi-factor-info":"Missing MFA info","auth/missing-multi-factor-session":"Missing MFA session","auth/missing-phone-number":"Missing phone number","auth/missing-verification-id":"Missing session info","auth/app-deleted":"Module destroyed","auth/account-exists-with-different-credential":"Need confirmation","auth/network-request-failed":"Network request failed","auth/null-user":"Null user","auth/no-auth-event":"No auth event","auth/no-such-provider":"No such provider","auth/operation-not-allowed":"Operation not allowed","auth/operation-not-supported-in-this-environment":"Operation not supported","auth/popup-blocked":"Popup blocked","auth/popup-closed-by-user":"Popup closed by user","auth/provider-already-linked":"Provider already linked","auth/quota-exceeded":"Quota exceeded","auth/redirect-cancelled-by-user":"Redirect cancelled by user","auth/redirect-operation-pending":"Redirect operation pending","auth/rejected-credential":"Rejected credential","auth/second-factor-already-in-use":"Second factor already enrolled","auth/maximum-second-factor-count-exceeded":"Second factor limit exceeded","auth/tenant-id-mismatch":"Tenant ID mismatch","auth/timeout":"Timeout","auth/user-token-expired":"Token expired","auth/too-many-requests":"Too many attempts, try later","auth/unauthorized-continue-uri":"Unauthorized domain","auth/unsupported-first-factor":"Unsupported first factor","auth/unsupported-persistence-type":"Unsupported persistence","auth/unsupported-tenant-operation":"Unsupported tenant operation","auth/unverified-email":"Unverified email","auth/user-cancelled":"User cancelled","auth/user-not-found":"User not found","auth/user-disabled":"User disabled","auth/user-mismatch":"User mismatch","auth/user-signed-out":"User signed out","auth/weak-password":"Weak password","auth/web-storage-unsupported":"Web storage unsupported","auth/already-initialized":"Already initialized","auth/recaptcha-not-enabled":"Recaptcha not enabled","auth/missing-recaptcha-token":"Missing Recaptcha token","auth/invalid-recaptcha-token":"Invalid Recaptcha token","auth/invalid-recaptcha-action":"Invalid Recaptcha action","auth/missing-client-type":"Missing client type","auth/missing-recaptcha-version":"Missing Recaptcha version","auth/invalid-recaptcha-version":"Invalid Recaptcha version","auth/invalid-req-type":"Invalid request type"};return t[e]?t[e]:e}function g(e,t){a?a(e,t):console.error("Tried to show notification before component was mounted...")}function v(){let e=(0,r.useRef)(null),[t,i]=(0,r.useState)(null);return((0,r.useEffect)(()=>()=>{e.current&&clearTimeout(e.current)},[]),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;i(t),e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{i(null)},a)},t)?(0,n.jsx)("div",{className:"notification notification-show",children:t}):null}let j=()=>{},f=async(e,t)=>{for(let i of t)if(await x(e,i))return i;return null},x=async(e,t)=>{let i="https://cdn.discordapp.com/emojis/".concat(e,".").concat(t,"?size=48");try{if((await fetch(i,{method:"HEAD"})).ok)return console.log("Valid ".concat(t.toUpperCase()," link:"),i),!0;return console.log("Invalid ".concat(t.toUpperCase()," link:"),i),!1}catch(e){return console.error("Error checking file link:",e),!1}};function b(e){let{emojis:t,setEmojis:i,setShowAddMenu:a}=e,[s,o]=(0,r.useState)(""),d=r.useRef(null);return j=()=>{d.current&&(d.current.value="")},(0,n.jsxs)("div",{className:"menu-section",children:[(0,n.jsx)("h2",{children:"Add Emoji"}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("input",{type:"text",placeholder:"emoji link",ref:d,onChange:e=>o(e.target.value)}),(0,n.jsx)("button",{onClick:()=>(function(e,t){let{emojis:i,setEmojis:a}=t,n=e.split(","),r=[];n.forEach(async e=>{if(e.length<=2){if(0==e.length)return;r.push({emoji:e,name:""});return}let t="",i="",a=e.trim().match(/(?:\/emojis\/|^)(\d+)(?:\.(\w+))?(?:\?|$)/);if(a)t=a[1],i=a[2]||"";else{console.log("Invalid ID or link:",e);return}if(""===i){let a=await f(t,["gif","webp"]);if(a)i=a;else{console.log("Invalid ID or link:",e);return}}r.push({emoji:"".concat(t,".").concat(i),name:""})}),a([...i,...r]),(async e=>{try{let t=u.currentUser;if(!t){console.error("No user found!");return}let i=await (0,l.QT)((0,l.JU)(h,"userdata",t.uid));if(!i.exists()){console.error("No user data found!");return}let n=i.data();n.emojis||(n.emojis=[]),n.emojis.push(...e),(0,l.r7)((0,l.JU)(h,"userdata",t.uid),{emojis:n.emojis}).then(()=>{g("Saved")}),a(n.emojis)}catch(e){console.error("Error fetching emojis:",e)}})(r),j()})(s,{emojis:t,setEmojis:i}),children:"Add"}),(0,n.jsx)("button",{className:"back-button",onClick:()=>{a(!1)},children:"Back"})]}),(0,n.jsx)("p",{children:"To get an emoji's link: Right-click in chat, Copy link"})]})}function y(e){let{editingIndex:t,setEditingIndex:i,emojis:a,setEmojis:s}=e,[o,d]=(0,r.useState)(""),c=a[t];(0,r.useEffect)(()=>{var e;d((null===(e=a[t])||void 0===e?void 0:e.name)||"")},[t,a]);let m=async(e,t)=>{try{let i=u.currentUser;if(!i){console.error("No user found!");return}let a=(0,l.JU)(h,"userdata",i.uid),n=await (0,l.QT)(a);if(!n.exists()){console.error("No user data found!");return}let r=n.data();if(!r.emojis){console.warn("No emojis field found in user data");return}r.emojis[e].name=t,await (0,l.r7)(a,{emojis:r.emojis}),s(r.emojis),g("Saved")}catch(e){console.error("Error updating emoji name in Firestore:",e)}};return(0,n.jsxs)("div",{className:"menu-section",children:[(0,n.jsx)("h2",{children:"Edit Emoji"}),c.emoji.length<=2?(0,n.jsx)("div",{className:"emoji-text",children:(0,n.jsx)("span",{children:c.emoji})}):(0,n.jsx)("img",{src:"https://cdn.discordapp.com/emojis/".concat(c.emoji,"?size=48"),alt:"emoji",className:"emoji-image"}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("input",{onChange:e=>d(e.target.value),type:"text",placeholder:"emoji name (for search)",value:o}),(0,n.jsx)("button",{onClick:()=>{let e=[...a];e[t].name=o,m(t,o),s(e)},children:"Save"}),(0,n.jsx)("button",{className:"back-button",onClick:()=>{i(-1)},children:"Back"})]}),(0,n.jsx)("p",{children:"To re-order or delete: drag and drop"})]})}let k=function(){let[e,t]=(0,r.useState)(""),[i,a]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),[m,p]=(0,r.useState)(-1),[v,j]=(0,r.useState)(null),f=i.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),x=s.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),k=async e=>{try{let t=u.currentUser;if(!t){console.error("No user found!");return}if(!(await (0,l.QT)((0,l.JU)(h,"userdata",t.uid))).exists()){console.error("No user data found!");return}(0,l.r7)((0,l.JU)(h,"userdata",t.uid),{emojis:e}).then(()=>{g("Saved")}),a(e)}catch(e){console.error("Error fetching emojis:",e)}};(0,r.useEffect)(()=>{w(),N()},[]);let w=async()=>{try{let e=u.currentUser;if(!e)return;let t=await (0,l.QT)((0,l.JU)(h,"userdata",e.uid));if(!t.exists()){a([]);return}let i=t.data();if(!i.emojis){a([]);return}a(i.emojis)}catch(e){console.error("Error fetching emojis:",e)}},N=async()=>{try{let e=await (0,l.QT)((0,l.JU)(h,"userdata","VVTSS5xcLXgAQbYwB0ijW4Se7pA3"));if(!e.exists()){a([]);return}let t=e.data();if(!t.emojis){a([]);return}o(t.emojis)}catch(e){console.error("Error fetching emojis:",e)}},I=e=>{if(d){p(i.indexOf(e));return}let t=e.emoji;t.length>2&&(t="https://cdn.discordapp.com/emojis/".concat(e.emoji,"?size=48")),navigator.clipboard.writeText(t),g("Copied to clipboard!")},C=e=>{j(e)},S=(e,t)=>{if(e.preventDefault(),null!==v&&v!==t){let e=[...i],n=e.splice(v,1)[0];e.splice(t,0,n),a(e),j(t)}},E=()=>{console.log("Reordered emojis:",i),j(null),k(i)};return(0,n.jsxs)("div",{children:[d&&-1==m&&(0,n.jsx)(b,{emojis:i,setEmojis:a,setShowAddMenu:c}),-1!=m&&(0,n.jsx)(y,{editingIndex:m,setEditingIndex:p,emojis:i,setEmojis:a}),(0,n.jsx)("div",{className:"search-box",children:(0,n.jsx)("input",{type:"text",placeholder:"Search emojis",value:e,onChange:e=>t(e.target.value)})}),null!=u.currentUser?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"My Emojis"}),(0,n.jsxs)("div",{className:"emoji-grid",children:[(0,n.jsx)("div",{className:"emoji-item ".concat(null!==v?"emoji-item-delete":"emoji-item-add"),onClick:()=>{p(-1),c(!d)},onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null!==v){if(null==v||v<0||v>=i.length){console.error("Invalid draggingIndex:",v);return}let e=i.filter((e,t)=>t!==v);a(e),j(null),k(e)}},children:null!==v?"\uD83D\uDDD1ï¸":"\uD83D\uDCDD"}),f.slice().reverse().map((e,t)=>{let a=i.length-1-t;return(0,n.jsx)("div",{className:"emoji-item",...d?{draggable:!0}:{},onClick:()=>I(e),onDragStart:()=>{d&&C(a)},onDragOver:e=>S(e,a),onDragEnd:E,children:e.emoji.length<=2?e.emoji:(0,n.jsx)("img",{src:"https://cdn.discordapp.com/emojis/".concat(e.emoji,"?size=48"),alt:"emoji"})},a)})]})]}):(0,n.jsx)("p",{children:"Log in to add your own emojis"}),d?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Public Emojis"}),(0,n.jsx)("div",{className:"emoji-grid",children:x.slice().reverse().map((e,t)=>{let a=i.length-1-t;return(0,n.jsx)("div",{className:"emoji-item",...d?{draggable:!0}:{},onClick:()=>I(e),children:e.emoji.length<=2?e.emoji:(0,n.jsx)("img",{src:"https://cdn.discordapp.com/emojis/".concat(e.emoji,"?size=48"),alt:"emoji"})},a)})})]})]})};i(2761);var w=i(5097);function N(e){let{setState:t}=e,[i,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[d,c]=(0,r.useState)("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Welcome back!"}),(0,n.jsxs)("div",{children:[d&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"infoBox",children:[(0,n.jsx)(w.ib5,{}),d]})}),(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,n.jsx)("input",{onChange:e=>a(e.target.value),type:"email",id:"email",required:!0,className:"w-full p-3 mt-1 text-black rounded bg-gray-200 focus:outline-none focus:ring focus:ring-indigo-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,n.jsx)("input",{onChange:e=>l(e.target.value),type:"password",id:"password",required:!0,className:"w-full p-3 mt-1 text-black rounded bg-gray-200 focus:outline-none focus:ring focus:ring-indigo-500"})]}),(0,n.jsx)("button",{onClick:()=>(function(e,t,i){if(0==e.length||0==t.length){i("Email and password required");return}(0,o.e5)(u,e,t).then(()=>{}).catch(e=>{i(p(e.code))})})(i,s,c),type:"submit",className:"w-full p-3 mt-4 rounded transition duration-300",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},children:"Log In"}),(0,n.jsxs)("div",{className:"text-center mt-6 text-sm text-gray-400",children:["Need an account? ",(0,n.jsx)("a",{onClick:()=>t("signup"),className:"text-indigo-400 hover:underline",children:"Sign up"})]})]})}function I(e){let{state:t,setState:i}=e,[a,s]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[m,g]=(0,r.useState)("");return(0,n.jsx)(n.Fragment,{children:"signup"==t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Sign up"}),m&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"infoBox",children:[(0,n.jsx)(w.ib5,{}),m]})}),""!=l&&""!=c&&l!=c&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"infoBox",children:[(0,n.jsx)(w.ib5,{}),"Passwords do not match"]})}),(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,n.jsx)("input",{onChange:e=>s(e.target.value),type:"email",id:"email",className:"w-full p-3 mt-1 text-black rounded bg-gray-200 focus:outline-none focus:ring focus:ring-indigo-500"}),(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,n.jsx)("input",{onChange:e=>d(e.target.value),type:"password",id:"password",className:"w-full p-3 mt-1 text-black rounded bg-gray-200 focus:outline-none focus:ring focus:ring-indigo-500"}),(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Repeat password"}),(0,n.jsx)("input",{onChange:e=>h(e.target.value),type:"password",id:"password",className:"w-full p-3 mt-1 text-black rounded bg-gray-200 focus:outline-none focus:ring focus:ring-indigo-500"}),(0,n.jsx)("button",{type:"submit",className:"w-full p-3 mt-4 rounded transition duration-300",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)"},onClick:()=>(function(e,t,i){(0,o.Xb)(u,e,t).then(()=>{}).catch(e=>{i(p(e.code))})})(a,l,g),children:"Sign Up"}),(0,n.jsxs)("div",{className:"text-center mt-6 text-sm text-gray-400",children:["Already have an account? ",(0,n.jsx)("a",{onClick:()=>i("login"),className:"text-indigo-400 hover:underline",children:"Sign in"})]})]})})}let C=function(){let[e,t]=(0,r.useState)("login");return(0,n.jsx)("div",{className:"login-page",children:(0,n.jsxs)("div",{className:"p-8 rounded-lg shadow-lg w-96",style:{backgroundColor:"#313338",color:"var(--foreground)"},children:["login"===e&&(0,n.jsx)(N,{setState:t}),e.startsWith("signup")&&(0,n.jsx)(I,{setState:t,state:e})]})})},S=function(){var e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Settings"}),(0,n.jsx)("button",{onClick:()=>u.signOut(),children:"Sign out"}),null===(e=u.currentUser)||void 0===e?void 0:e.email]})};function E(){let[e,t]=(0,r.useState)("emojis");return(0,n.jsxs)("div",{children:[(0,n.jsx)(v,{}),(0,n.jsx)(m,{activeTab:e,setActiveTab:t}),"login"===e&&(0,n.jsx)(C,{}),"login"!==e&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"page-wrapper",children:[(0,n.jsx)(A,{activeTab:e,setActiveTab:t}),(0,n.jsx)("div",{className:"flex flex-grow",children:(0,n.jsxs)("div",{className:"content",children:["emojis"===e&&(0,n.jsx)(k,{}),"settings"===e&&(0,n.jsx)(S,{})]})})]})})]})}function A(e){let{activeTab:t,setActiveTab:i}=e;return(0,n.jsxs)("header",{className:"header",children:[(0,n.jsxs)("div",{className:"tabs",children:[(0,n.jsx)("div",{className:"tab ".concat("emojis"===t?"active":""),onClick:()=>i("emojis"),children:"Emojis"}),(0,n.jsx)("div",{className:"tab ".concat("settings"===t?"active":""),onClick:()=>i("settings"),children:"Settings"})]}),(0,n.jsx)("h1",{className:"title",children:"Emoji Manager"})]})}},2761:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[71,706,237,358,615,130,215,744],()=>t(4451)),_N_E=e.O()}]);